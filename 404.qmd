---
pagetitle: Page Not Found | Pukar Bhandari
format: live-html
engine: knitr
webr:
  packages:
    - httr2
---

{{< include ./_extensions/r-wasm/live/_knitr.qmd >}}

<br>
<div style="text-align: center">

# {{< fa face-frown >}} Page Not Found {{< fa face-frown >}}

The page you have requested cannot be found<br>(perhaps it has been moved or renamed). 

**But hey, generate your own random xkcd comic to cheer up!**

```{webr}
#| label: random-xkcd
#| autorun: false
#| runbutton: true
#| timelimit: 30
#| startover: true
#| edit: true
#| echo: true
#| results: asis

library(httr2)

# Function to get random xkcd comic
get_random_xkcd <- function() {
  tryCatch({
    # Get latest comic info to know the range
    latest_data <- httr2::request("https://xkcd.com/info.0.json") |>
      httr2::req_perform() |>
      httr2::resp_body_json()
    
    # Generate random comic number
    random_num <- sample(1:latest_data$num, 1)
    
    # Get the random comic
    comic_data <- httr2::request(paste0("https://xkcd.com/", random_num, "/info.0.json")) |>
      httr2::req_perform() |>
      httr2::resp_body_json()
    
    return(comic_data)
  }, error = function(e) {
    return(NULL)
  })
}

# Get random comic
comic <- get_random_xkcd()

# display the comic with respective information
if (!is.null(comic)) {
  cat(paste0("### [", comic$title, "](https://xkcd.com/", comic$num, "){target='_blank'}\n\n"))
  cat(paste0("![", comic$alt, "](", comic$img, "){style='max-width: 100%; height: auto;'}\n\n"))
  cat(paste0("*", comic$alt, "*\n\n"))
} else {
  cat("Could not load xkcd comic. [Visit xkcd.com](https://xkcd.com){target='_blank'}\n\n")
}
```

Please return from whence you came and try again.

</div>
